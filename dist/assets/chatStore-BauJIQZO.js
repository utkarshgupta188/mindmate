const r="mindmate_sessions_v1";function i(){try{const t=localStorage.getItem(r);if(!t)return[];const n=JSON.parse(t);return Array.isArray(n)?n:[]}catch{return[]}}function a(t){localStorage.setItem(r,JSON.stringify(t))}function o(t){const n=i(),e=n.findIndex(s=>s.id===t.id);e>=0?n[e]=t:n.unshift(t),a(n)}function c(t){const e=i().filter(s=>s.id!==t);a(e)}function l(){return"s_"+Math.random().toString(36).slice(2,8)+"_"+Date.now().toString(36)}function f(t){const n=t.find(s=>s.from==="user");return n&&n.text.trim().slice(0,60)||"New chat"}export{o as a,c as d,i as l,l as m,f as s};
