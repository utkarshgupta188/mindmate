import{r as l,j as e}from"./index-C4Srh_oV.js";import{B as k}from"./BreathingWidget-aKL_4wWR.js";import"./play-BTGgS62S.js";function S(){const[t,n]=l.useState("idle"),[a,s]=l.useState("Click start, then wait for the green screen."),[r,i]=l.useState(null),[m,c]=l.useState(null),d=l.useRef(null);function h(){c(null),n("wait"),s("Wait for greenâ€¦");const u=1500+Math.random()*2500;d.current=window.setTimeout(()=>{n("now"),s("Tap!"),i(performance.now())},u)}function o(){if(t==="wait")s("Too soon! Try again."),n("result"),d.current&&clearTimeout(d.current);else if(t==="now"&&r){const u=Math.round(performance.now()-r);c(u),s(`Your reaction: ${u} ms`),n("result")}}return l.useEffect(()=>()=>{d.current&&clearTimeout(d.current)},[]),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Reaction Time"}),e.jsx("div",{onClick:o,className:"rounded-xl h-36 flex items-center justify-center text-lg font-semibold cursor-pointer transition "+(t==="now"?"bg-green-200 dark:bg-green-900/30":"bg-slate-100 dark:bg-slate-800"),children:a}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx("button",{className:"btn btn-primary",onClick:h,children:"Start"}),m!==null&&e.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 self-center",children:"Tip: Relax shoulders & gaze softly."})]})]})}const v=["ðŸŒ¿","ðŸŒ™","â­","ðŸª·","ðŸ¦‹","ðŸŒŠ"];function y(){const t=[];let n=0;const a=[...v,...v];for(const s of a)t.push({id:n++,icon:s,flipped:!1,matched:!1});for(let s=t.length-1;s>0;s--){const r=Math.floor(Math.random()*(s+1)),i=t[s];t[s]=t[r],t[r]=i}return t}function w(){const[t,n]=l.useState(y()),[a,s]=l.useState(null),[r,i]=l.useState(0),[m,c]=l.useState(!1);function d(o){const u=t[o];if(!u||u.flipped||u.matched)return;const g=t.map((p,j)=>j===o?{...p,flipped:!0}:p);if(n(g),a===null)s(o);else{i(x=>x+1);const p=g[o],j=g[a];if(p&&j&&p.icon===j.icon){const x=g.map((f,b)=>b===o||b===a?{...f,matched:!0}:f);n(x),s(null),x.every(f=>f.matched)&&c(!0)}else{const x=a;setTimeout(()=>{n(f=>f.map((b,N)=>N===o||N===x?{...b,flipped:!1}:b))},700),s(null)}}}function h(){n(y()),s(null),i(0),c(!1)}return e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Memory Match"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:t.map((o,u)=>e.jsx("button",{onClick:()=>d(u),className:"h-16 rounded-xl flex items-center justify-center text-2xl transition "+(o.flipped||o.matched?"bg-forest-100 dark:bg-forest-900/30":"bg-slate-200 dark:bg-slate-800"),children:o.flipped||o.matched?o.icon:"â‚"},o.id))}),e.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[e.jsx("button",{className:"btn btn-primary",onClick:h,children:"Restart"}),e.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Moves: ",r,m?" â€” You did it! ðŸŽ‰":""]})]})]})}function T(){const[t,n]=l.useState(60),[a,s]=l.useState(!1),r=l.useRef(null);function i(){r.current||(s(!0),r.current=window.setInterval(()=>n(o=>Math.max(0,o-1)),1e3))}function m(){r.current&&(clearInterval(r.current),r.current=null,s(!1))}function c(){m(),n(60)}l.useEffect(()=>(t===0&&m(),()=>{r.current&&clearInterval(r.current)}),[t]);const d=String(Math.floor(t/60)).padStart(2,"0"),h=String(t%60).padStart(2,"0");return e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"1â€‘Minute Focus"}),e.jsxs("div",{className:"rounded-xl border p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"text-3xl font-bold",children:[d,":",h]}),e.jsxs("div",{className:"flex gap-2",children:[a?e.jsx("button",{className:"btn btn-outline",onClick:m,children:"Pause"}):e.jsx("button",{className:"btn btn-primary",onClick:i,children:"Start"}),e.jsx("button",{className:"btn btn-outline",onClick:c,children:"Reset"})]})]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Try soft gaze, quiet breathing, and unclench your jaw."})]})}const M=["ðŸ˜Š","ðŸ˜Œ","ðŸ˜","ðŸ˜Ÿ","ðŸ˜¢"];function C(){const[t,n]=l.useState(""),[a,s]=l.useState(""),[r,i]=l.useState(!1);function m(){const c={ts:Date.now(),mood:t,text:a},d=localStorage.getItem("mm_journal")||"[]",h=JSON.parse(d);h.unshift(c),localStorage.setItem("mm_journal",JSON.stringify(h.slice(0,50))),i(!0),setTimeout(()=>i(!1),1200),s("")}return l.useEffect(()=>{n("ðŸ˜Œ")},[]),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Quick Journal"}),e.jsx("div",{className:"flex gap-2 mb-2",children:M.map(c=>e.jsx("button",{className:"text-xl rounded-xl px-2 py-1 border "+(t===c?"bg-forest-100 dark:bg-forest-900/30":""),onClick:()=>n(c),children:c},c))}),e.jsx("textarea",{className:"w-full border rounded-xl px-3 py-2 bg-white/70 dark:bg-slate-900/50",rows:3,placeholder:"One line about how you feelâ€¦",value:a,onChange:c=>s(c.target.value)}),e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx("button",{className:"btn btn-primary",onClick:m,disabled:!a.trim(),children:"Save"}),r&&e.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 self-center",children:"Saved âœ“"})]})]})}const R=[{key:"breath",label:"Breathing"},{key:"reaction",label:"Reaction"},{key:"memory",label:"Memory"},{key:"focus",label:"Focus"},{key:"journal",label:"Journal"}];function q(){const[t,n]=l.useState("breath");return e.jsxs("div",{className:"grid lg:grid-cols-[2fr_1fr] gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:R.map(a=>e.jsx("button",{className:"px-3 py-2 rounded-xl border "+(t===a.key?"bg-forest-600 text-white border-forest-600":"hover:bg-slate-50 dark:hover:bg-slate-800"),onClick:()=>n(a.key),children:a.label},a.key))}),t==="breath"&&e.jsx(k,{}),t==="reaction"&&e.jsx(S,{}),t==="memory"&&e.jsx(w,{}),t==="focus"&&e.jsx(T,{}),t==="journal"&&e.jsx(C,{})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:["https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?w=600&q=60","https://images.unsplash.com/photo-1501785888041-af3ef285b470?w=600&q=60","https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=600&q=60"].map((a,s)=>e.jsx("img",{src:a,alt:"calm",className:"rounded-xl h-32 w-full object-cover"},s))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Tips"}),e.jsxs("ul",{className:"list-disc pl-5 text-sm text-slate-600 dark:text-slate-400 space-y-1",children:[e.jsx("li",{children:"Exhale slightly longer than you inhale."}),e.jsx("li",{children:"Loosen your shoulders and tongue; release jaw tension."}),e.jsx("li",{children:"Short walks and gentle stretches reset the body."})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Feelâ€‘good photos"}),e.jsx("img",{src:"https://images.unsplash.com/photo-1502082553048-f009c37129b9?w=800&q=60",alt:"nature",className:"rounded-xl mb-2"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Soft, natural scenes can lower arousal and help your nervous system settle."})]})]})]})}export{q as default};
