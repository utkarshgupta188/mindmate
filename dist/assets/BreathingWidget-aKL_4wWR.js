import{c as R,r as l,j as e}from"./index-C4Srh_oV.js";import{P as A}from"./play-BTGgS62S.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=R("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=R("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);function F(){const[r,u]=l.useState("box"),[s,i]=l.useState("idle"),[o,k]=l.useState(!1),[P,m]=l.useState(0),h=l.useRef(null),[b,C]=l.useState(4),[g,E]=l.useState(4),[f,I]=l.useState(4),a=r==="box"?{inhale:4,hold:4,exhale:4}:r==="478"?{inhale:4,hold:7,exhale:8}:{inhale:b,hold:g,exhale:f},[p,j]=l.useState(0);function c(){h.current&&(window.clearInterval(h.current),h.current=null)}function v(){c(),k(!1),i("idle"),j(0),m(0)}function M(){o||(k(!0),i("inhale"),N("inhale",a.inhale))}function y(t){return t==="inhale"?a.hold>0?"hold":"exhale":t==="hold"?"exhale":"inhale"}function N(t,S){if(c(),S<=0){const n=y(t);t==="exhale"&&n==="inhale"&&m(x=>x+1),i(n),N(n,n==="inhale"?a.inhale:n==="hold"?a.hold:a.exhale);return}const H=Date.now();j(0),h.current=window.setInterval(()=>{const n=(Date.now()-H)/1e3,x=Math.min(1,n/S);if(j(x),x>=1){c();const d=y(t);t==="exhale"&&d==="inhale"&&m(z=>z+1),i(d);const V=d==="inhale"?a.inhale:d==="hold"?a.hold:a.exhale;N(d,V)}},50)}l.useEffect(()=>()=>c(),[]);const $={idle:"Ready",inhale:"Inhale",hold:"Hold",exhale:"Exhale"},B=s==="inhale"?"from-emerald-400 to-teal-500":s==="hold"?"from-cyan-400 to-blue-500":s==="exhale"?"from-indigo-400 to-violet-500":"from-slate-300 to-slate-400";return e.jsxs("div",{className:"rounded-2xl border border-slate-200/60 dark:border-slate-800/60 bg-white/70 dark:bg-slate-900/60 backdrop-blur p-6",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Breathing"}),e.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:["Choose a pattern and press ",e.jsx("b",{children:"Start"}),". No auto-start."]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:o?v:M,className:`inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium border ${o?"bg-rose-600 text-white border-rose-600 hover:bg-rose-700":"bg-emerald-600 text-white border-emerald-600 hover:bg-emerald-700"}`,children:[o?e.jsx(D,{className:"h-4 w-4"}):e.jsx(A,{className:"h-4 w-4"}),o?"Stop":"Start"]}),e.jsxs("button",{onClick:v,className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium border hover:bg-slate-50 dark:hover:bg-slate-800",title:"Reset",children:[e.jsx(L,{className:"h-4 w-4"})," Reset"]})]})]}),e.jsx("div",{className:"mt-4 grid md:grid-cols-3 gap-2",children:["box","478","custom"].map(t=>e.jsx("button",{onClick:()=>{v(),u(t)},className:`rounded-xl border px-3 py-2 text-sm ${r===t?"bg-slate-900 text-white dark:bg-white dark:text-slate-900":"hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:t==="box"?"Box (4-4-4)":t==="478"?"4-7-8":"Custom"},t))}),r==="custom"&&e.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-2",children:[e.jsx(w,{label:"Inhale",value:b,setValue:C}),e.jsx(w,{label:"Hold",value:g,setValue:E}),e.jsx(w,{label:"Exhale",value:f,setValue:I})]}),e.jsxs("div",{className:"mt-6 flex items-center gap-4",children:[e.jsxs("div",{className:"relative mx-auto",children:[e.jsx("div",{className:`h-40 w-40 rounded-full bg-gradient-to-tr ${B} opacity-90 shadow-md transition-all duration-300`,style:{transform:`scale(${s==="inhale"?1+.1*p:s==="exhale"?1.1-.1*p:1.05})`}}),e.jsx("div",{className:"absolute inset-0 grid place-items-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400",children:$[s]}),e.jsxs("div",{className:"text-2xl font-semibold",children:[s==="idle"?"â€”":Math.max(0,Math.ceil((s==="inhale"?a.inhale:s==="hold"?a.hold:a.exhale)*(1-p))),e.jsx("span",{className:"text-sm ml-1",children:"s"})]})]})})]}),e.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[e.jsxs("div",{children:[e.jsx("b",{children:"Rounds:"})," ",P]}),e.jsxs("div",{children:[e.jsx("b",{children:"Pattern:"})," ",r==="box"?"4-4-4":r==="478"?"4-7-8":`${b}-${g}-${f}`]})]})]}),e.jsx("p",{className:"mt-3 text-xs text-slate-500 dark:text-slate-400",children:"Tip: Exhale slightly longer than you inhale to activate the parasympathetic response."})]})}function w({label:r,value:u,setValue:s}){return e.jsxs("label",{className:"text-sm",children:[e.jsxs("span",{className:"block text-slate-600 dark:text-slate-300 mb-1",children:[r," (s)"]}),e.jsx("input",{type:"number",min:0,className:"w-full rounded-xl border px-3 py-2 bg-white/70 dark:bg-slate-900/50",value:u,onChange:i=>s(Math.max(0,Number(i.target.value)||0))})]})}export{F as B};
